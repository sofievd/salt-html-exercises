<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Data with Fetch</title>
    <script>
        function getUsers(element){
            fetch("https://randomuser.me/api/?gender=female&results=30")
                .then((response) => response.json())
                .then((data) => {
                    console.log({ data })
                  const userList = createUserList(data.results);
                    element.textContent = data.results.length;
                    element.appendChild(userList);
                });
        }
        function createUserList(users){
            const userList = document.createElement("div");

            for(let i = 0; i < users.length; i++){
                const user = users[i];
                const userHeading = document.createElement("h2");
                userHeading.textContent = `${user.name.title} ${user.name.first} ${user.name.last}`;

                const userImage = document.createElement("img");
                userImage.src = `${user.picture.thumbnail}`;

                const userDiv = document.createElement("div");
                userDiv.appendChild(userHeading);
                userDiv.appendChild(userImage);

                userList.append(userDiv);
            }
            return userList;

        }
        document.addEventListener('DOMContentLoaded', () =>{
            const mainElement = document.querySelector("main");
            getUsers(mainElement)
        })

    </script>
</head>
<body>
<main>

</main>
</body>
</html>